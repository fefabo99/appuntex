\chapter{Introduzione alle reti}
\section{Cos'è Internet?}
Due prospettive:
\begin{itemize}
    \item Visione degli ingranaggi (dadi e bulloni), delle componenti della rete.
    \item Visione della rete come un'infrastruttura che fornisce servizi.
\end{itemize}
Nell'immagine che schematizza, sui bordi della rete troviamo un grandissimo numero di devices (cell, laptops, \dots) che eseguono \textit{applicazioni di rete} che richiedono uno scambio di dati e che la rete si occupa di collegare. Alcuni nodi di questa applicazione eseguono parte di un'applicazione e altri nodi interconnessi eseguono altre parti di applicazioni (sistemi distribuiti).

\subsection{Visione nuts and bolts}
\begin{description}
    \item[hosts], sono dispositivi \textit{end system} ovvero terminali.
    \item[packet switches] o \textit{commutatori di pacchetto}, che sono \textit{routers} e \textit{switches}, dispositivi che si occupano di trasferire pacchetti (unità) di informazione.\\
    I pacchetti sono unità in cui l'informazione viene scomposta ed etichettata per essere trasferita da un dispositivo all'altro.
    \item[Communication links] o \textit{collegamenti di comunicazione}, sono i canali che collegano i nodi della rete. Li disegnamo come righe che uniscono i vari nodi. possiamo crearli usando diversi mezzi trasmissivi, filo di rame, onde radio, fibra ottica, \dots Ognuno di questi link è definito da una \textbf{banda}, la quantità di informazione che il link può trasferire in un secondo.
    \item[Networks], Internet è una rete di reti, ovvero una rete di dispositivi che sono collegati tra loro e che a loro volta sono reti di dispositivi collegati tra loro. Quindi tutta la rete è una connessione globale di reti locali (es. la rete dell'ufficio, la rete domestica\dots)
\end{description}
\begin{center}
    \includegraphics[width=75mm]{images/aa2324/R_introduzioneallereti1.jpg}
\end{center}
Sempre più dispositivi oggi giorno si sono evoluti fino ad adattarsi all'uso di Internet, come ad esempio le auto, i frigoriferi, le lavatrici\dots 
\begin{center}
    \includegraphics[width=75mm]{images/aa2324/R_introduzioneallereti2.jpg}
\end{center}
Quindi anche Internet deve evolversi e adattarsi per poter gestire un numero sempre maggiore di dispositivi con esigenze sempre più diverse.

\subsubsection{Internet come rete di reti}
Abbiamo detto che Internet è viibile appunto come una rete di reti, un \textit{insieme interconnesso} di \textbf{ISPs} (Internet Service Providers), le organizzazioni che gestiscono la rete. A volte ISPs viene usato anche come sinonimo della rete vera e propria.\\
Gli ISPs comunicano fra loro tramite l'uso di \textbf{protocolli}. I protocolli nella rete sono ovunque, controllano il modo in cui i messaggi vengono inviati e ricevuti tra i dispositivi. Alcuni esempi sono HTTP (Web), streaming video, Skype, TCP, IP, WiFi, 4G, Ethernet\dots\\
Questi protocolli si basano su \textbf{standards}.\\
Un lavoro fondamentale a riguardo è svolto da \textbf{enti di standardizzazione} (il più famoso è IETF, \textit{Internet Engineering Task Force}) che stilano documenti (RFC, \textit{Request for Comments}) che spiegano come i protocolli devono essere implementati e come i dispositivi che implementano questi protocolli devono comportarsi.\\
Gli standard sono fondamentali per la comunicazione univoca tra i dispositivi, senza di essi non ci sarebbe interoperabilità tra i dispositivi.

\subsection{Visione come infrastruttura di servizi}
Internet può essere visto come un'\textbf{infrastruttura} che fornisce \textbf{servizi} alle applicazioni distribuite.\\
\`E una vista importante perché la rete sottostante è fondamentale per quando dobbiamo per esempio programmare delle applicazioni o dei servizi: da questo pov è molto importante il concetto di socket, un'interfaccia che ci permette di interfacciarci alla rete senza necessariamente sapere come la rete sotto funziona.

\section{Protocolli}
\parbox{0.5\textwidth}{
\textbf{Protocolli umani}\\
I protocolli umani sono le regole che seguono gli esseri umani quando comunicano tra loro.\\
Esempio: incontro una persona, scambio di convenevoli, poi chiedo: "Che ore sono?" e in base alla risposta ho delle reazioni diverse.\\
Altro esempio: "Ho una domanda" durante una lezione, così che per non interrompere il professore, lui possa finire il suo discorso e poi rispondere alla domanda.\\
Altro esempio: un giro di tavolo per fare le presentazioni, seguo delle convenzioni di discorso.}
\hfill
\parbox{0.4\textwidth}{
\textbf{Protocolli di rete}\\
Emulano il funzionamento dei protocolli umani.\\
Tutte le comunicazioni di rete sono gestite da protocolli.
}
\definizione{I protocolli di rete definiscono le regole per i messaggi inviati in rete. In particolare definiscono il formato dei messaggi, l'ordine in cui vengono inviati e ricevuti tra le entità di rete (host, commutatori, \dots) e le azioni da intraprendere una volta che questi messaggi vengono inviati e ricevuti.}


\subsection{Cos'è un protocollo?}
\begin{center}
    \includegraphics[width=75mm]{images/aa2324/R_introduzioneallereti3.jpg}
\end{center}

\section{Da cosa è composta la rete?}
Andiamo più nel dettaglio.
\begin{center}
    \includegraphics[width=50mm]{images/aa2324/R_introduzioneallereti4.jpg}
\end{center}
\subsubsection{Network edge}
Primo segmento della struttura generale della rete. Ci troviamo sui bordi della rete (quindi c'è un po' una diatriba sul fatto che appartengano o meno alla rete, in ogni caso sono molto importanti), dove si trovano gli \textbf{hosts} (client, server). Sono intesi in senso un po' lato, ovvero:
\begin{itemize}
    \item I \textit{client} sono intesi come dispositivi con una \textit{bassa} capacità computazionale.
    \item I \textit{server} sono intesi come dispositivi con una \textit{alta} capacità computazionale.\\
    Infatti di solito si trovano nei data center.
\end{itemize}

\subsubsection{Access networks}
Addentrandoci ancora più nella rete, abbiamo le reti di accesso. Tipicamente hanno dei collegamenti di comunicazione che possono essere \textit{wired} (cavi, stoppini, fibre \dots) e \textit{wireless} (4G, onde radio\dots). Sono molto importanti perché accolgono il traffico dagli utenti e lo portano verso la rete. O viceversa accolgono il traffico di dati da passare al client. Per accedere alla rete bisogna acquistare un accesso alla rete per mezzo di un provider, un ISP.\\
Sono importanti perché evolvono molto rapidamente nel tempo, sostengono sempre più il cambiamento e l'evoluzione del traffico generato dagli utenti a loro volta in costante evoluzione.\\
Non parleremo delle reti di accesso.

\subsubsection{Network core}
La rete di core è una rete con una maglia di dispositivi solitamente molto performanti (quindi in grado di gestire una gran quantità di informazione) e che si trovano al centro della rete. Permettono di implementare quella rete di reti di cui abbiamo parlato prima.\\
Per mezzo delle reti di core garantisco che ogni utente che si trova in rete possa comunicare con ogni altro utente che si trova nella stessa rete. Ovviamente non è sempre concretamente possibile.\\
Internet è una rete connessa: da un nodo posso raggiungere un qualsiasi altro nodo. Questo è quello di cui si occupano le reti core: permettono di mettere in comunicazione reti più al limitare della rete di altre.

\subsection{Network edge}
L'host, abbiamo detto, ha il compito di inviare pacchetti di dati, prende un messaggio applicativo che deve inviare e lo scompone in pacchetti di lunghezza pari ad $L$ (per semplicità ora li consideriamo tutti della stessa lunghezza, ma di solito hanno dimensioni di lunghezza variabile). Questi pacchetti vengono inviati dall'host in rete dalle reti di accesso che forniscono l'accesso ad un rate trasmissivo (banda, capacità\dots) pari a $R$ (è in bit/s). Questo vuol dire che l'host può inviare pacchetti di lunghezza $L$ a velocità $R$.
\begin{center}
    \textit{Ovviamente più è alta la banda, più è alta la velocità di trasmissione.}
\end{center}
Ma come si calcola il \textbf{ritardo di trasmissione}?
\definizione{Il \textit{ritardo di trasmissione} è il ritardo che intercorre tra l'invio del primo bit di un pacchetto di $L$ bit alla ricezione dall'altro lato del link dell'ultimo bit dello stesso pacchetto.}
Essendo $L$ la lunghezza del pacchetto e $R$ la velocità di trasmissione, il \textit{ritardo di trasmissione} sarà pari a $L/R$.
\begin{center}
    \includegraphics[width=50mm]{images/aa2324/R_introduzioneallereti5.jpg}
\end{center}

\subsection{Access networks}
Abbiamo detto che Internet è un \textit{packet switching network}, una rete a commutazione di pacchetto. L'unità informativa che viene scambiata in rete è il \textbf{pacchetto} che appunto viaggiano in rete, ricevuti e trasmessi da più dispositivi.\\
Il compito della rete è di inoltrare i pacchetti verso i router o i commutatori di pacchetto sul link corretto che va da sorgente a destinazione. Questo è il compito principale dei dispositivi della rete di core: creare un percorso (possibilmente il migliore) fra sorgente e destinazione.\\
Sembra, almeno concettualmente, abbastanza banale come concetto. Ma la gerarchia della rete è studiata in modo che nodi sufficientemente vicini possano essere messi in contatto senza passare da router o commutatori.
\begin{center}
    \includegraphics[width=50mm]{images/aa2324/R_introduzioneallereti6.jpg}
\end{center}
Le funzionalità fondamentali dei nodi della rete di core sono principalmente due:
\begin{itemize}
    \item 
\end{itemize}
Per capirle meglio, dobbiamo prima vedere (sì, l'ho scritto prima di fare l'elenco puntato) come sono fatti i nodi della rete di core:
\begin{center}
    \includegraphics[width=50mm]{images/aa2324/R_introduzioneallereti7.jpg}
\end{center}
\begin{center}
    \includegraphics[width=50mm]{images/aa2324/R_introduzioneallereti8.jpg}
\end{center}
\begin{description}
    \item[Forwarding table:] è una tabella che contiene le intestazioni dei vari pacchetti (dove c'è specificato l'indirizzo della destinazione e quale interfaccia ovvero l'uscita del link da cui il pacchetto deve uscire) da inviare verso una specifica interfaccia.\\
    L'inoltro (forwarding) ha ovviamente valenza locale. Ogni singolo nodo consulatndo la propria tabella prende decisioni autonome riguardo l'inoltro.
    \item[Swtinching:] commutazione, sinonimo di inoltro (forwarding). Le due terminologie hanno una valenza simile ma si riferiscono a due cose leggermente diverse: l'inoltro è l'operazione di ricevere un messaggio e inoltrarlo verso un altro nodo, mentre la commutazione è l'operazione per trasferire il pacchetto da un'interfaccia di ingresso ad una di uscita di un router. Il risultato è lo stesso, ma lo switching è più a livello interno del nodo ignorando ciò che sta all'esterno, l'inoltro invece tiene in considerazione che io prendo e inoltro da un nodo un pacchetto che sposto poi attraverso 1+ link ad un altro nodo.
\end{description}




\subsection{Network core}







